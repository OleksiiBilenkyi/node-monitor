# Node Monitor Bot

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äî –±–æ—Ç –¥–ª—è Discord, —è–∫–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–∏ —Ç–∞ —ó—Ö–Ω—ñ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —á–µ—Ä–µ–∑ SSH, –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—á–∏ —Å—Ç–∞—Ç—É—Å, –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è CPU/RAM —ñ —á–∞—Å —Ä–æ–±–æ—Ç–∏. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏—è–≤–ª—è—î –Ω–æ–≤—ñ —Å–µ—Ä–≤–µ—Ä–∏ —Ç–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É.

## –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä—ñ–≤ —ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ —ñ–∑ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–º –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º (–∫–æ–∂–Ω—ñ 30 —Ö–≤–∏–ª–∏–Ω).
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤, –¥–æ–¥–∞–Ω–∏—Ö –¥–æ –±–∞–∑–∏ –ø—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö.
- –ì–∞—Ä–Ω–æ —Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π –≤–∏–≤—ñ–¥ —ñ–∑ –µ–º–æ–¥–∑—ñ —Å—Ç–∞—Ç—É—Å—É (üü¢ –¥–ª—è –ø—Ä–∞—Ü—é—é—á–∏—Ö, üî¥ –¥–ª—è –∑—É–ø–∏–Ω–µ–Ω–∏—Ö).
- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –º—ñ–∂ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏ —á–µ—Ä–µ–∑ Docker-—Ç–æ–º–∏.

## –í–∏–º–æ–≥–∏
- Docker —ñ Docker Compose
- Python 3.12 (–≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ)
- –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: `discord.py`, `paramiko`, `aiosqlite` (–≤–∫–∞–∑–∞–Ω—ñ –≤ `requirements.txt`)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

- `node-monitor/`
  - `Dockerfile` ‚Äî –û–ø–∏—Å –ø–æ–±—É–¥–æ–≤–∏ Docker-–æ–±—Ä–∞–∑—É
  - `docker-compose.yml` ‚Äî –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–∞–ø—É—Å–∫—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
  - `.dockerignore` ‚Äî –í–∏–∫–ª—é—á–µ–Ω–Ω—è –Ω–µ–ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤ —ñ–∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è
  - `main.py` ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
  - `bot.py` ‚Äî –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–æ—Ç–∞
  - `bot_commands.py` ‚Äî –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞
  - `data_base.py` ‚Äî –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é —Ç–∞ SSH
  - `log_setting.py` ‚Äî –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
  - `requirements.txt` ‚Äî –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python
  - `.env` ‚Äî –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ (—Ç–æ–∫–µ–Ω, –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ)
  - `data/` ‚Äî –¢–æ–º –¥–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (`servers.db`)
  - `logs/` ‚Äî –¢–æ–º –¥–ª—è –ª–æ–≥—ñ–≤ (`bot.log`)

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone <repository_url>
cd node-monitor
```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É —Ç–∞ –¥–æ–¥–∞–π—Ç–µ:
```
DISCORD_TOKEN=—Ç–≤—ñ–π_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
ALLOWED_USERS=—Ç–≤—ñ–π_discord_id,—ñ–Ω—à–∏–π_id
```

### 3. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ–π –¥–ª—è —Ç–æ–º—ñ–≤
```bash
mkdir -p data logs
```

### 4. –ü–æ–±—É–¥–æ–≤–∞ —Ç–∞ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
```bash
docker-compose up --build
```
- –ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ `node-monitor`.
- –õ–æ–≥–∏ –≤–∏–≤–æ–¥—è—Ç—å—Å—è –≤ —Ç–µ—Ä–º—ñ–Ω–∞–ª —ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ `logs/bot.log`.

### 5. –ó—É–ø–∏–Ω–∫–∞
```bash
docker-compose down
```

### 6. –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤
- –£ —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ: `docker logs node-monitor`
- –£ —Ñ–∞–π–ª—ñ: `cat logs/bot.log`

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥
- `!add_server <ip> <username> <password> [name] [port]` ‚Äî –î–æ–¥–∞—î —Å–µ—Ä–≤–µ—Ä –¥–æ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.
- `!ignore_container <name>` ‚Äî –Ü–≥–Ω–æ—Ä—É—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É.
- `!unignore_container <name>` ‚Äî –ü—Ä–∏–±–∏—Ä–∞—î –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑—ñ —Å–ø–∏—Å–∫—É —ñ–≥–Ω–æ—Ä–æ–≤–∞–Ω–∏—Ö.
- `!start_monitor` ‚Äî –ó–∞–ø—É—Å–∫–∞—î –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤–µ—Ä—ñ–≤.
- `!force_update` ‚Äî –ü—Ä–∏–º—É—Å–æ–≤–æ –æ–Ω–æ–≤–ª—é—î –¥–∞–Ω—ñ.
- `!help` ‚Äî –ü–æ–∫–∞–∑—É—î —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥.

